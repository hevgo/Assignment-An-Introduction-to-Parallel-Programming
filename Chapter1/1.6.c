p = n_thread_total();
n1 = p - 1;
n2 = log2(p) + !((double)(int)log2() == log());

p       Original    Tree   
2^1     2^1-1       1
2^2     2^2-1       2
2^3     2^3-1       3
2^4     2^4-1       4
2^5     2^5-1       5
2^6     2^6-1       6
2^7     2^7-1       7
2^8     2^8-1       8
2^9     2^9-1       9
2^10    2^10-1      10

